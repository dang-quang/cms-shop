_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[87],{D3bm:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/qrManagement",function(){return a("JmK6")}])},JmK6:function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),r=a("rePB"),c=a("KQm4"),s=a("o0o1"),i=a.n(s),l=a("HaE+"),o=a("q1tI"),d=a("/MKj"),j=a("wd/R"),b=a.n(j),u=a("YFqc"),m=a.n(u),p=a("R/WZ"),h=a("aQgt"),O=a("i6E2"),x=a("AqyA"),f=a("A2So"),y=a("2zww"),g=a("UsYt"),v=a("5LSk"),N=a("Kg+a"),C=a("/EAt"),w=a("Imu7"),k=a("sRsu"),T=a("Uf6+"),q=a("3PeG"),M=a("um8N"),S=a("hZrs"),P=a("Zyv0"),_=a("bSwy"),I=a.n(_),D=a("ADg1"),E=a("jjAL"),A=a("/FTN"),R=a("mtPR"),Y=a("BuT9"),B=a("6CbO"),K=a("al6C"),z=a("qokT"),Q=a("K+qn"),W=a("Glqu"),L=a("mPma"),H=a("rokU"),J=a("AOnC"),U=a("t0WV"),F=a("bqsI"),V=a("kKAo"),X=a("668i"),Z=a("TSYQ"),G=a.n(Z),$=a("CXox"),ee=a("l1im"),te=a("DzNn"),ae=a("WztA"),ne=a("l3v6"),re=a("9kay"),ce=a("20a2"),se=a.n(ce);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=[{id:"1",name:"Shop 1",link:"http://shop1/qr1",status:!0,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"},{id:"2",name:"Shop 2",link:"http://shop1/qr2",status:!1,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"},{id:"3",name:"Shop 3",link:"http://shop1/qr3",status:!0,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"},{id:"4",name:"Shop 4",link:"http://shop1/qr4",status:!1,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"},{id:"5",name:"Shop 5",link:"http://shop1/qr5",status:!0,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"},{id:"6",name:"Shop 6",link:"http://shop1/qr6",status:!0,publish:"2021-10-28T13:20:36+07:00",update:"2021-10-28T13:20:36+07:00"}];function de(){var e=Object(p.a)(S.a)(),t=Object(p.a)(z.a),a=Object(o.useState)(null),s=a[0],j=a[1],u=Object(p.a)(Y.a),O=Object(p.a)(B.a),_=u(),A=t(),Z=O(),ce=Object(p.a)(K.a)(),ie=Object(o.useState)([]),de=ie[0],je=ie[1],be=Object(o.useState)(0),ue=be[0],me=be[1],pe=Object(o.useState)(!1),he=pe[0],Oe=pe[1],xe=Object(o.useState)(!1),fe=xe[0],ye=xe[1],ge=Object(re.c)().t,ve=[ge("qrManagement.stt"),ge("qrManagement.shopName"),ge("qrManagement.link"),ge("status"),ge("qrManagement.publishTime"),ge("qrManagement.updateTime"),ge("action")],Ne=Object(o.useState)([]),Ce=Ne[0],we=(Ne[1],Object(o.useState)("")),ke=we[0],Te=we[1],qe=Object(o.useState)(1),Me=qe[0],Se=qe[1],Pe=Object(o.useState)(1),_e=Pe[0],Ie=(Pe[1],Object(o.useState)("")),De=Ie[0],Ee=Ie[1],Ae=Object(o.useState)(b()().subtract(30,"days").format()),Re=Ae[0],Ye=Ae[1],Be=Object(o.useState)(b()().format()),Ke=Be[0],ze=Be[1],Qe=Object(o.useState)(!1),We=Qe[0],Le=Qe[1],He=Object(d.useDispatch)(),Je=[{name:ge("all"),value:"ALL"},{name:ge("qrManagement.notActive"),value:"NOTACTIVE"},{name:ge("qrManagement.active"),value:"ACTIVE"}],Ue={ready_to_ship:51,processed:10,shipped:47,to_confirm_receive:105,to_return:0,cancelled:519};Object(o.useEffect)((function(){window.addEventListener("resize",(function(){Le(window.innerWidth<1570)}),!1)}),[]),Object(o.useEffect)(Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(Object(te.h)(!0)),(t={}).current_page=Me,De&&(t.keyWord=De),ue&&(t.fromDate=b()(Re).unix(),t.toDate=b()(Ke).unix()),ke.value&&(t.status=ke.value),e.next=8,Object($.N)(t);case 8:a=e.sent,console.log("tung",t,a),He(Object(te.h)(!1));case 11:case"end":return e.stop()}}),e)}))),[he,ue,ke,Me]);var Fe=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(Object(te.h)(!0)),e.next=3,Object($.u)(s);case 3:200===(t=e.sent).code?se.a.push("/admin/qrManagement"):ae.b.error({title:ge("error"),message:t.message?t.message.text:"Error"}),He(Object(te.h)(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(e){var t=de.indexOf(e),a=Object(c.a)(de);-1===t?a.push(e):a.splice(t,1),je(a)};return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(ae.a,{}),Object(n.jsx)(y.a,{color:"primary",children:Object(n.jsx)("h4",{className:A.cardTitleWhite,children:ge("sideBar.qrManagement")})}),Object(n.jsxs)(g.a,{className:A.cardBody,children:[Object(n.jsx)("div",{className:A.selectTitleContainer,children:Object(n.jsx)(R.a,{children:Je.map((function(e,t){return Object(n.jsxs)("div",{className:A.selectContainer,style:{backgroundColor:ke.value==e.value?ne.r[3]:""},onClick:function(){return function(e){Te(e),Se(1)}(e)},children:[Object(n.jsx)("p",{children:e.name}),Ue[Object.keys(Ue)[t-1]]>0&&Object(n.jsx)("p",{className:A.txtNumTitle,children:Object(h.e)(Ue[Object.keys(Ue)[t-1]])})]})}))})}),Object(n.jsxs)("div",{className:ce.filterSelections+" "+A.flex_center_between,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{className:ce.formControl,children:Object(n.jsxs)("div",{style:{marginRight:"15px"},children:[Object(n.jsx)(M.a,{formControlProps:{className:_.margin+" "+A.searchContainer},inputProps:{placeholder:ge("findBy"),onChange:function(e){Ee(e.target.value),Se(1)}}}),Object(n.jsx)(N.a,{color:"white","aria-label":"edit",justIcon:!0,round:!0,onClick:function(){return Oe(!he)},children:Object(n.jsx)(I.a,{})})]})}),Object(n.jsxs)(D.a,{className:ce.formControl,style:{marginRight:"25px"},children:[Object(n.jsx)(N.a,{color:"white",id:"filter-date-label","aria-owns":fe?"filter-date":null,"aria-haspopup":"true",className:A.filteTritle,onClick:function(){return ye(!0)},children:b()(Re).format("DD/MM/yyyy")+" - "+b()(Ke).format("DD/MM/yyyy")}),Object(n.jsx)(J.a,{open:Boolean(fe),anchorEl:fe,transition:!0,disablePortal:!0,className:G()(Object(r.a)({},A.popperClose,1!=fe))+" "+A.datePopperNav,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(n.jsx)(F.a,le(le({},t),{},{id:"filter-date",style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(n.jsx)(V.a,{children:Object(n.jsx)(X.a,{onClickAway:function(){return ye(!1)},children:Object(n.jsx)("div",{style:{width:We?"190px":"460px"},children:Object(n.jsxs)("div",{style:{padding:"7px 15px",borderRadius:"4px"},children:[Object(n.jsx)("p",{style:{margin:0,fontSize:"17px",fontWeight:"400",color:ne.r[0]},children:ge("chooseDate")}),Object(n.jsx)("div",{style:{marginTop:"10px"},children:Object(n.jsx)(Q.a,{utils:L.a,locale:H.a,children:Object(n.jsxs)(R.a,{children:[Object(n.jsx)(W.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:ge("from"),value:Re,onChange:function(e){return Ye(e)},KeyboardButtonProps:{"aria-label":"change date"},style:{margin:"0 40px",width:"150px"}}),Object(n.jsx)(W.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:ge("to"),value:Ke,onChange:function(e){return ze(e)},KeyboardButtonProps:{"aria-label":"change date"},style:{margin:"0 40px",width:"150px"}})]})})}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"15px",justifyContent:"flex-end"},children:[Object(n.jsx)(N.a,{color:"white",size:"sm",style:{marginRight:"10px"},onClick:function(){return Ye(b()().subtract(30,"days").format()),ze(b()().format()),ye(!1),void me(0)},children:ge("reset")}),Object(n.jsx)(N.a,{color:"primary",size:"sm",onClick:function(){me(ue+1),ye(!1)},children:ge("apply")})]})]})})})})}))}})]})]}),Object(n.jsx)(D.a,{className:ce.formControl,style:{marginRight:"25px",position:We?"static":"absolute",right:"0"},children:Object(n.jsx)(m.a,{href:"/admin/qrManagement/addQr",children:Object(n.jsx)(N.a,{id:"update-label",color:"green",children:ge("qrManagement.createQr")})})})]}),Object(n.jsxs)(P.a,{width:600,title:ge("confirmation"),subTitle:"",isShow:s,handleClose:function(){return j(null)},children:[Object(n.jsx)("div",{className:A.flex_center,children:Object(n.jsx)(D.a,{variant:"outlined",size:"small",style:{flex:1},children:Object(n.jsx)("p",{style:{flex:1},children:ge("deleteConfirm")})})}),Object(n.jsxs)("div",{className:Z.tableResponsive,style:{marginTop:"0",flexDirection:"row-reverse",display:"flex"},children:[Object(n.jsx)("div",{className:A.buttonContainer,children:Object(n.jsx)(N.a,{color:"primary",onClick:Fe,children:ge("submit")})}),Object(n.jsx)("div",{className:A.buttonContainer,children:Object(n.jsx)(N.a,{color:"gray",onClick:function(){return j(null)},children:ge("cancel")})})]})]})]}),Object(n.jsx)(v.a,{children:Object(n.jsxs)("div",{className:Z.tableResponsive,style:{marginTop:"0",marginLeft:"20px"},children:[Object(n.jsxs)(C.a,{className:Z.table,children:[void 0!==Ce?Object(n.jsx)(w.a,{className:Z.primaryTableHeader,children:Object(n.jsx)(k.a,{className:Z.tableHeadRow,children:ve.map((function(e,t){return Object(n.jsx)(q.a,{className:Z.tableCell+" "+Z.tableHeadCell,style:{textAlign:"left"},children:e},t)}))})}):null,Object(n.jsx)(T.a,{children:oe.map((function(t,a){return function(t,a){return Object(n.jsxs)(k.a,{className:Z.tableBodyRow,children:[Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:t.id})})},"id"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:t.name})})},"name"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:null===t||void 0===t?void 0:t.link})})},"link"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:t.status?ge("qrManagement.active"):ge("qrManagement.notActive")})})},"status"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:b()(t.publish).format("DD/MM/YYYY")})})},"dateupdate"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsx)("div",{className:A.proInfoContainer,children:Object(n.jsx)("p",{className:Z.tableCell+" "+A.txtOrderInfo,children:b()(t.update).format("DD/MM/YYYY")})})},"detail"),Object(n.jsx)(q.a,{className:Z.tableCell,children:Object(n.jsxs)("div",{className:A.text+" "+A.infoTextStatus+" "+A.flex_center,children:[Object(n.jsx)("a",{target:"_blank",className:Z.tableCell+" "+A.txtOrderCode+" "+A.cursor,children:Object(n.jsx)(N.a,{id:"action-label"+(null===t||void 0===t?void 0:t.id),"aria-owns":-1!==de.indexOf(t)?"action-list-grow"+(null===t||void 0===t?void 0:t.id):null,"aria-haspopup":"true",color:"white",size:"sm",onClick:function(){return Ve(t)},children:Object(n.jsx)(x.a,{className:e.btnFilter,children:"settings"})})}),Object(n.jsx)(J.a,{open:Boolean(-1!==de.indexOf(t)),anchorEl:-1!==de.indexOf(t),transition:!0,disablePortal:!0,className:G()(Object(r.a)({},e.popperClose,-1!==!de.indexOf(t)))+" "+A.actionPopperNav,children:function(e){var a=e.TransitionProps,r=e.placement;return Object(n.jsx)(F.a,le(le({},a),{},{id:"action-list-grow"+(null===t||void 0===t?void 0:t.order_sn),style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(n.jsx)(V.a,{children:Object(n.jsx)(X.a,{onClickAway:function(){return Ve(t)},children:Object(n.jsxs)(U.a,{role:"menu",children:[Object(n.jsx)(E.a,{className:A.dropdownItem,onClick:function(){se.a.push("/admin/qrManagement/addQr")},children:ge("detail")}),Object(n.jsx)(E.a,{className:A.dropdownItem,onClick:function(){se.a.push("/admin/qrManagement/addQr")},children:ge("edit")}),Object(n.jsx)(E.a,{className:A.dropdownItem,onClick:function(){j(t.id)},children:ge("delete")})]})})})}))}})]})})]},a)}(t,a)}))})]}),Object(n.jsx)("div",{style:{margin:"15px 0"},children:Object(n.jsx)(ee.a,{count:_e,page:Me,onChange:function(e,t){Se(t)}})})]})})]})}de.layout=O.a,t.default=Object(A.a)(de)}},[["D3bm",0,1,12,2,3,4,5,6,7,9,8,13,11,14,15,16,17,18,19,20,21,22,24,25,39,10]]]);