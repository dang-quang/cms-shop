_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[115],{"6bvl":function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return p}));var n=a("o0o1"),r=a.n(n),s=a("HaE+"),o=a("Orb1");a("LvDl");function c(e){return{type:o.a.NAT_SHOP_FLASH_SALE_TAB_INDEX,natShopFlashSaleTabIndex:e}}function u(e){return{type:o.a.SEARCH_PROGRAM_FLASH_SALE_NAME,searchProgramFlashSaleName:e}}function i(e){return{type:o.a.SEARCH_PROGRAM_FLASH_SALE_DATE,searchProgramFlashSaleDate:e}}function l(e){return{type:o.a.DO_SEARCH_FLASH_SALE,doSearchFlashSale:e}}var p=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(u("")),t(i([])),t(l(!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ef5A:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/flash-sale-natshop/components/TableAllNatShop",function(){return a("Q/CI")}])},"Q/CI":function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),r=a("o0o1"),s=a.n(r),o=a("HaE+"),c=a("ODXe"),u=a("q1tI"),i=a.n(u),l=a("sRqu"),p=a("sp93"),d=a("lsQ0"),b=a("oxre"),f=a("9kay"),j=a("/MKj"),h=a("DzNn"),O=a("20a2"),S=a("bgFo"),_=a("LvDl"),g=a("Orb1"),m=a("No4j"),x=a("Wgwc"),v=a.n(x),E=a("jA42"),w=a("6bvl");t.default=function(){var e="YYYY/MM/DD",t=143,a=Object(O.useRouter)(),r=Object(l.d)(),u=Object(j.useDispatch)(),x=Object(f.c)().t,A=Object(j.useSelector)((function(e){return e.app})),C=A.loading,P=A.showLoader,D=C||P,y=i.a.useState([]),F=Object(c.a)(y,2),N=F[0],L=F[1],R=i.a.useState(1),H=Object(c.a)(R,2),k=(H[0],H[1]),I=i.a.useState(0),M=Object(c.a)(I,2),T=M[0],G=M[1],U=Object(j.useSelector)((function(e){return e.flashSale})),X=U.doSearchFlashSale,Y=U.searchProgramFlashSaleName,q=U.searchProgramFlashSaleDate,Q=Object(b.usePagination)({total:T,limits:{outer:1,inner:2},initialState:{pageSize:50,isDisabled:!1,currentPage:1}}),z=Q.pages,J=Q.pagesCount,K=Q.currentPage,W=Q.setCurrentPage,B=Q.isDisabled;return i.a.useEffect((function(){Object(o.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Object(h.v)(!0)),a={page:1,shopId:t},e.next=5,Object(m.l)(a);case 5:(n=e.sent).code===g.b.MSG_SUCCESS?n.data&&n.data.results?(L(n.data.results),k(n.data.totalPages),G(n.data.totalRecords)):(L([]),k(1),G(0)):(L([]),k(1),G(0),r({position:"top",title:x("error"),description:x("no_data_exists"),status:"error",duration:2e3,isClosable:!0}));case 7:return e.prev=7,u(Object(h.v)(!1)),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()}),[]),i.a.useEffect((function(){Object(o.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Object(h.v)(!0)),a={page:1,shopId:t},e.next=5,Object(m.l)(a);case 5:(n=e.sent).code===g.b.MSG_SUCCESS?n.data&&n.data.results?(L(n.data.results),k(n.data.totalPages),G(n.data.totalRecords)):(L([]),k(1),G(0)):(L([]),k(1),G(0),r({position:"top",title:x("error"),description:x("no_data_exists"),status:"error",duration:2e3,isClosable:!0}));case 7:return e.prev=7,u(Object(h.v)(!1)),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()}),[]),i.a.useEffect((function(){Object(o.a)(s.a.mark((function a(){var n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n={shopId:t,page:K},!X){a.next=11;break}return u(Object(h.v)(!0)),u(Object(h.o)(!0)),Y&&(n.keyWord=Y),q.length>1&&(n.fromDate=v()(q[0]).format(e),n.toDate=v()(q[1]).format(e)),a.next=9,Object(m.l)(n);case 9:(o=a.sent).code===g.b.MSG_SUCCESS?o.data&&o.data.results?(L(o.data.results),k(o.data.totalPages),G(o.data.totalRecords)):(L([]),k(1),G(0)):(L([]),k(1),G(0),r({position:"top",title:x("no_results_found"),description:x("no_results_found_for_your_search"),status:"error",duration:2e3,isClosable:!0}));case 11:return a.prev=11,u(Object(w.b)(!1)),u(Object(h.v)(!1)),setTimeout((function(){u(Object(h.o)(!1))}),2e3),a.finish(11);case 16:case"end":return a.stop()}}),a,null,[[0,,11,16]])})))()}),[t,X,K,Y,q]),Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.d,{mt:"6",position:"relative",minH:Object(_.isEmpty)(N)||D?"300px":"unset",children:D?Object(n.jsx)(n.Fragment,{children:Array(4).fill(4).map((function(e,t){return Object(n.jsx)(S.g,{},t)}))}):Object(_.isEmpty)(N)?Object(n.jsx)(S.b,{title:x("no_data"),children:Object(n.jsx)(d.a,{as:E.d,w:"93px",h:"87px"})}):Object(n.jsx)(n.Fragment,{children:N.map((function(e,t){return Object(n.jsx)(S.c,{item:e,index:t,isLast:t===N.length-1,onClick:function(){return a.push({pathname:"/shop/flash-sale-natshop/program-flash-sale",query:e})}})}))})}),!Object(_.isEmpty)(N)&&!D&&Object(n.jsxs)(p.j,{justifyContent:"space-between",alignItems:"center",children:[Object(n.jsx)(S.m,{pagesCount:J,currentPage:K,isDisabled:B,onPageChange:function(e){L([]),W(e)},pages:z,mt:"24px",mb:"8px"}),Object(n.jsx)(p.C,{textStyle:"h4-m",children:x("results_page",{start:50*(K-1)+1,end:50*(K-1)+N.length,total:T})})]})]})}}},[["Ef5A",0,1,9,13,16,18,19,21,20,17,22,2,3,4,5,6,7,10,8,12,11,14,15,23]]]);