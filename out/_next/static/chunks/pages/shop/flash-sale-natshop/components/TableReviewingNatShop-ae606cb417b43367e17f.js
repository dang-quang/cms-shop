_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[118],{"6bvl":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return p}));var n=a("o0o1"),r=a.n(n),s=a("HaE+"),c=a("Orb1");a("LvDl");function o(e){return{type:c.a.NAT_SHOP_FLASH_SALE_TAB_INDEX,natShopFlashSaleTabIndex:e}}function u(e){return{type:c.a.SEARCH_PROGRAM_FLASH_SALE_NAME,searchProgramFlashSaleName:e}}function i(e){return{type:c.a.SEARCH_PROGRAM_FLASH_SALE_DATE,searchProgramFlashSaleDate:e}}function l(e){return{type:c.a.DO_SEARCH_FLASH_SALE,doSearchFlashSale:e}}var p=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(u("")),t(i([])),t(l(!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},FzdU:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/flash-sale-natshop/components/TableReviewingNatShop",function(){return a("tRFu")}])},tRFu:function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),r=a("o0o1"),s=a.n(r),c=a("HaE+"),o=a("ODXe"),u=a("q1tI"),i=a.n(u),l=a("sRqu"),p=a("sp93"),d=a("lsQ0"),b=a("oxre"),f=a("9kay"),j=a("/MKj"),h=a("DzNn"),O=a("20a2"),_=a("bgFo"),S=a("LvDl"),g=a("Orb1"),m=a("No4j"),x=a("Wgwc"),E=a.n(x),v=a("jA42"),w=a("6bvl");t.default=function(){var e="YYYY/MM/DD",t=Object(O.useRouter)(),a=Object(l.d)(),r=Object(j.useDispatch)(),u=Object(f.c)().t,x=Object(j.useSelector)((function(e){return e.app})),A=x.loading,D=x.showLoader,P=A||D,F=i.a.useState([]),y=Object(o.a)(F,2),N=y[0],C=y[1],R=i.a.useState(1),L=Object(o.a)(R,2),H=(L[0],L[1]),k=i.a.useState(0),I=Object(o.a)(k,2),M=I[0],T=I[1],G=Object(j.useSelector)((function(e){return e.flashSale})),U=G.doSearchFlashSale,z=G.searchProgramFlashSaleName,X=G.searchProgramFlashSaleDate,Y=Object(b.usePagination)({total:M,limits:{outer:1,inner:2},initialState:{pageSize:50,isDisabled:!1,currentPage:1}}),q=Y.pages,J=Y.pagesCount,K=Y.currentPage,W=Y.setCurrentPage,B=Y.isDisabled;return i.a.useEffect((function(){Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(Object(h.v)(!0)),t={page:1,shopId:143,type:g.e.PENDING},e.next=5,Object(m.l)(t);case 5:(n=e.sent).code===g.b.MSG_SUCCESS?n.data&&n.data.results?(C(n.data.results),H(n.data.totalPages),T(n.data.totalRecords)):(C([]),H(1),T(0)):(C([]),H(1),T(0),a({position:"top",title:u("error"),description:u("no_data_exists"),status:"error",duration:2e3,isClosable:!0}));case 7:return e.prev=7,r(Object(h.v)(!1)),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()}),[]),i.a.useEffect((function(){Object(c.a)(s.a.mark((function t(){var n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n={shopId:143,page:K,type:g.e.PENDING},!U){t.next=11;break}return r(Object(h.v)(!0)),r(Object(h.o)(!0)),z&&(n.keyWord=z),X.length>1&&(n.fromDate=E()(X[0]).format(e),n.toDate=E()(X[1]).format(e)),t.next=9,Object(m.l)(n);case 9:(c=t.sent).code===g.b.MSG_SUCCESS?c.data&&c.data.results?(C(c.data.results),H(c.data.totalPages),T(c.data.totalRecords)):(C([]),H(1),T(0)):(C([]),H(1),T(0),a({position:"top",title:u("no_results_found"),description:u("no_results_found_for_your_search"),status:"error",duration:2e3,isClosable:!0}));case 11:return t.prev=11,r(Object(w.b)(!1)),r(Object(h.v)(!1)),setTimeout((function(){r(Object(h.o)(!1))}),2e3),t.finish(11);case 16:case"end":return t.stop()}}),t,null,[[0,,11,16]])})))()}),[143,U,K,z,X]),Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.d,{mt:"6",position:"relative",minH:Object(S.isEmpty)(N)||P?"300px":"unset",children:P?Object(n.jsx)(n.Fragment,{children:Array(4).fill(4).map((function(e,t){return Object(n.jsx)(_.g,{},t)}))}):Object(S.isEmpty)(N)?Object(n.jsx)(_.b,{title:u("no_data"),children:Object(n.jsx)(d.a,{as:v.d,w:"93px",h:"87px"})}):Object(n.jsx)(n.Fragment,{children:N.map((function(e,a){return Object(n.jsx)(_.c,{item:e,index:a,isLast:a===N.length-1,onClick:function(){return t.push({pathname:"/shop/flash-sale-natshop/program-flash-sale",query:e})}})}))})}),!Object(S.isEmpty)(N)&&!P&&Object(n.jsxs)(p.j,{justifyContent:"space-between",alignItems:"center",children:[Object(n.jsx)(_.m,{pagesCount:J,currentPage:K,isDisabled:B,onPageChange:function(e){C([]),W(e)},pages:q,mt:"24px",mb:"8px"}),Object(n.jsx)(p.C,{textStyle:"h4-m",children:u("results_page",{start:50*(K-1)+1,end:50*(K-1)+N.length,total:M})})]})]})}}},[["FzdU",0,1,9,13,16,18,19,21,20,17,22,2,3,4,6,5,7,8,10,12,11,14,15,23]]]);