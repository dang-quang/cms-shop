_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[143],{"6B92":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/sms-messages/components/TableAll",function(){return n("6zWF")}])},"6zWF":function(e,t,n){"use strict";n.r(t);var a=n("nKUr"),c=n("o0o1"),s=n.n(c),i=n("HaE+"),r=n("ODXe"),o=n("q1tI"),u=n.n(o),d=n("WIEF"),l=n("sp93"),b=n("Ig9u"),p=n("lsQ0"),f=n("W5le"),j=n("oxre"),m=n("9kay"),x=n("/MKj"),g=n("DzNn"),h=n("33Fu"),O=n("20a2"),D=n("LvDl"),E=n("N54T"),S=n("Wgwc"),w=n.n(S),y=n("bgFo"),R=n("Orb1"),C=[{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED},{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED},{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED},{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED},{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED},{image:"https://user-images.githubusercontent.com/42206067/243565384-c6f7df0a-8d76-43c9-82d0-0c41e72ffd23.png",code:"SMS01",quantity:30,startDate:w()().unix(),endDate:w()().add(2,"months").unix(),price:5e4,status:R.i.UNREGISTERED}];t.default=function(){Object(O.useRouter)();var e=Object(x.useDispatch)(),t=Object(m.c)().t,n=u.a.useRef(null),c=u.a.useRef(null),o=u.a.useRef(null),S=u.a.useState([]),R=Object(r.a)(S,2),v=R[0],N=R[1],_=u.a.useState(null),I=Object(r.a)(_,2),T=I[0],k=I[1],P=Object(d.d)(!1),q=Object(r.a)(P,2),F=q[0],M=q[1],U=M.on,G=M.off,W=u.a.useState(1),z=Object(r.a)(W,2),X=(z[0],z[1],u.a.useState(0)),H=Object(r.a)(X,2),A=H[0],B=(H[1],Object(d.d)(!1)),J=Object(r.a)(B,2),K=J[0],L=J[1],Q=L.on,V=L.off,Y=w()().subtract(30,"days").toDate(),Z=w()().toDate(),$=u.a.useState([Y,Z]),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=Object(j.usePagination)({total:A,limits:{outer:1,inner:2},initialState:{pageSize:50,isDisabled:!1,currentPage:1}}),ce=ae.pages,se=ae.pagesCount,ie=ae.currentPage,re=ae.setCurrentPage,oe=ae.isDisabled;u.a.useEffect((function(){Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(Object(g.v)(!0)),N(C)}finally{e(Object(g.v)(!1))}case 1:case"end":return t.stop()}}),t)})))()}),[C]),u.a.useEffect((function(){Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(g.v)(!1)),V();case 1:case"end":return t.stop()}}),t)})))()}),[K,ie,n.current]);var ue=u.a.useCallback(Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{G(),e(Object(g.v)(!0))}catch(n){console.log("register message error")}finally{e(Object(g.v)(!1))}case 1:case"end":return t.stop()}}),t)}))),[T]);return Object(a.jsxs)(l.d,{children:[Object(a.jsxs)(b.c,{maxW:"570px",borderRadius:"4px",overflow:"hidden",children:[Object(a.jsx)(b.a,{ref:n,placeholder:"Search message code"}),Object(a.jsx)(b.g,{borderRadius:"4px",cursor:"pointer",h:"full",bg:"primary.100",w:"100px",children:Object(a.jsx)(l.e,{onClick:Q,children:Object(a.jsx)(p.a,{as:h.e,w:"24px",h:"24px",color:"white"})})})]}),Object(a.jsxs)(l.j,{mt:"6",gap:"4",flexDirection:{base:"column",md:"row"},alignItems:{base:"unset",md:"center"},children:[Object(a.jsx)(y.p,{selectedDates:te,onDateChange:ne}),Object(a.jsxs)(l.m,{gap:"2",children:[Object(a.jsx)(b.a,{ref:c,autoComplete:"off",placeholder:"Price From",type:"number"}),Object(a.jsx)(b.a,{ref:o,autoComplete:"off",placeholder:"Price To",type:"number"})]})]}),Object(a.jsx)(l.d,{mt:"6",flex:"1",h:"full",minH:"60vh",children:Object(D.isEmpty)(v)?Object(a.jsx)(l.d,{minH:"220px",children:Object(a.jsxs)(l.e,{h:"220px",position:"absolute",insetX:"0",flexDirection:"column",alignSelf:"center",children:[Object(a.jsx)(f.a,{w:"150px",h:"100px",src:E.a.no_data}),Object(a.jsx)(l.C,{textStyle:"body",textAlign:"center",color:"primary.100",mt:"1",children:"No Data Found"})]})}):Object(a.jsx)(l.w,{columns:{base:2,md:3,xl:4,"2xl":5},spacing:{base:"6",md:"8",xl:"10"},children:v.map((function(e,t){return Object(a.jsx)(y.r,{item:e,onRegister:function(){k(e),U()}},t)}))})}),!Object(D.isEmpty)(v)&&Object(a.jsxs)(l.j,{justifyContent:"space-between",alignItems:"center",children:[Object(a.jsx)(y.m,{pagesCount:se,currentPage:ie,isDisabled:oe,onPageChange:function(e){N([]),re(e)},pages:ce,mt:"24px",mb:"8px"}),Object(a.jsx)(l.C,{textStyle:"h4-m",children:t("results_page",{start:50*(ie-1)+1,end:50*(ie-1)+v.length,total:A})})]}),Object(a.jsx)(y.j,{isOpen:F,onClose:G,title:"Confirm Deletion",description:t("deleteConfirm"),buttonLeft:{title:t("cancel"),onClick:G},buttonRight:{title:t("confirm"),onClick:ue}})]})}}},[["6B92",0,1,9,13,16,18,19,21,20,17,22,2,3,4,5,6,7,10,8,12,11,14,15,23]]]);